[{"C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\index.js":"1","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\useFetch.js":"2","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\App.js":"3","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\WeatherCard.js":"4","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\Daily.js":"5","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\Hourly.js":"6","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\Chart.js":"7"},{"size":278,"mtime":1607639771932,"results":"8","hashOfConfig":"9"},{"size":495,"mtime":1607635985846,"results":"10","hashOfConfig":"9"},{"size":3997,"mtime":1607748863920,"results":"11","hashOfConfig":"9"},{"size":3194,"mtime":1607539617011,"results":"12","hashOfConfig":"9"},{"size":3904,"mtime":1607714692816,"results":"13","hashOfConfig":"9"},{"size":2740,"mtime":1607807375890,"results":"14","hashOfConfig":"9"},{"size":1354,"mtime":1607750079653,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1846mn",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\index.js",[],["34","35"],"C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\useFetch.js",[],"C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\App.js",["36","37","38","39"],"import React, { useState, useEffect } from \"react\";\r\nimport WeatherCard from \"./WeatherCard\";\r\nimport Daily from \"./Daily\";\r\nimport Hourly from \"./Hourly\";\r\nimport { TileLayer, MapContainer, Marker, Popup } from \"react-leaflet\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport icon from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\nlet DefaultIcon = L.icon({\r\n  iconUrl: icon,\r\n  shadowUrl: iconShadow,\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\nconst App = () => {\r\n  const [details, setDetails] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedTab, setSelectedTab] = useState(0);\r\n  const [locationDetails, setLocationDetails] = useState([]);\r\n  const url =\r\n    \"http://api.ipstack.com/check?access_key=d4d7e15716eb60585620301f3408eaa5&format=1\";\r\n  //const { loading, details } = useFetch(url);\r\n\r\n  const unit = \"celcius\";\r\n  const getClientDetails = async () => {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    setDetails(data);\r\n    return data;\r\n  };\r\n  const getAllInOneCall = async (details) => {\r\n    let { city, latitude, longitude } = details;\r\n    const base = \"https://api.openweathermap.org/data/2.5/onecall\";\r\n    const key = \"05e47cb6f8fc8afa437fc32af1218b36\";\r\n    const query = `?lat=${latitude}&lon=${longitude}&exclude=current,minutely,alerts&appid=${key}&units=metric`;\r\n    const response = await fetch(base + query);\r\n    const data = await response.json();\r\n    console.log(base + query);\r\n    setLocationDetails(data);\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getClientDetails()\r\n      .then((data) => {\r\n        setDetails(data);\r\n        getAllInOneCall(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  console.log(\"before if\", loading);\r\n  if (loading) return <div>Loading...</div>;\r\n  const handleChange = (newValue) => {\r\n    setSelectedTab(newValue);\r\n  };\r\n  return (\r\n    <>\r\n      <main>\r\n        <WeatherCard\r\n          city={details.city.toLowerCase()}\r\n          unit={unit}\r\n        ></WeatherCard>\r\n        <div className=\"btn-container\">\r\n          <button\r\n            className={`tab-btn ${selectedTab == 0 && \"active-btn\"}`}\r\n            onClick={() => handleChange(0)}\r\n          >\r\n            Daily\r\n          </button>\r\n          <button\r\n            className={`tab-btn ${selectedTab == 1 && \"active-btn\"}`}\r\n            onClick={() => handleChange(1)}\r\n          >\r\n            Hourly\r\n          </button>\r\n          <button\r\n            className={`tab-btn ${selectedTab == 2 && \"active-btn\"}`}\r\n            onClick={() => handleChange(2)}\r\n          >\r\n            Minutely\r\n          </button>\r\n        </div>\r\n        <div className=\"main-container\">\r\n          {selectedTab === 0 && <Daily details={locationDetails} />}\r\n          {selectedTab === 1 && <Hourly details={locationDetails.hourly} />}\r\n          {selectedTab === 2 && <h4>Place Holder</h4>}\r\n          <Map latitude={details.latitude} longitude={details.longitude} />\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Map = ({ latitude, longitude }) => {\r\n  const position = [latitude, longitude];\r\n  return (\r\n    <MapContainer center={position} zoom={6}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n      <TileLayer\r\n        url={`https://tile.openweathermap.org/map/clouds_new/{z}/{x}/{y}.png?appid=05e47cb6f8fc8afa437fc32af1218b36`}\r\n      />\r\n      <TileLayer\r\n        url={`https://tile.openweathermap.org/map/precipitation_new/{z}/{x}/{y}.png?appid=05e47cb6f8fc8afa437fc32af1218b36`}\r\n      />\r\n      <Marker position={position}>\r\n        <Popup>\r\n          A pretty CSS3 popup. <br /> Easily customizable.\r\n        </Popup>\r\n      </Marker>\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\WeatherCard.js",["40","41"],"import React, { Component, useState } from \"react\";\r\nimport { useFetch } from \"./useFetch\";\r\n\r\nconst WeatherCard = ({ city, unit }) => {\r\n  const key = \"05e47cb6f8fc8afa437fc32af1218b36\";\r\n  const base = \"http://api.openweathermap.org/data/2.5/weather\";\r\n  const query = `?q=${city}&units=metric&appid=${key}`;\r\n\r\n  const { loading, details } = useFetch(base + query);\r\n\r\n  const convertTemperature = (temperature) => {\r\n    return unit === \"celcius\" ? temperature : (temperature * 9) / 5 - 459.67;\r\n  };\r\n\r\n  if (loading) return <h1>Loading...</h1>;\r\n\r\n  const { main, weather, visibility, dt } = details;\r\n\r\n  let { description } = weather[0];\r\n\r\n  let weatherMainDescription = weather[0].main;\r\n\r\n  const { temp, pressure, humidity } = main;\r\n\r\n  let unix_timestamp = dt;\r\n  let date = new Date(unix_timestamp * 1000);\r\n  let hours = date.getHours();\r\n  let minutes = date.getMinutes();\r\n\r\n  let dayTime = () => {\r\n    return hours < 17 ? \"day\" : \"night\";\r\n  };\r\n\r\n  //uncomment next line only for testing\r\n  //description = \"mist\";\r\n  return (\r\n    <>\r\n      <div className=\"weather-card\">\r\n        <div\r\n          className={`weather-card_container ${description.replace(\" \", \"_\")}`}\r\n        >\r\n          <div className=\"weather-card_panel\">\r\n            <h2>The weather now at {city}</h2>\r\n            <p>\r\n              {hours}:{minutes < 10 ? \"0\" + minutes : minutes}\r\n            </p>\r\n            <div className=\"weather-card_panel main\">\r\n              <i\r\n                className={`wu wu-${iconKey(\r\n                  description\r\n                )} wu-128 wu-solid-white wu-${dayTime()}`}\r\n              ></i>\r\n              <p className=\"temperature\">\r\n                {Math.round(convertTemperature(temp))}Â°{\"\"}\r\n                {unit === \"celcius\" ? \"c\" : \"f\"}\r\n              </p>\r\n            </div>\r\n            <div className=\"description_container\">\r\n              <h4 className=\"weather_description\">{weatherMainDescription}</h4>\r\n              <p className=\"weather_description\">{description}</p>\r\n            </div>\r\n          </div>\r\n          <section className=\"weather-card_pard_panel details\">\r\n            <p className=\"details\">Pressure: {pressure} hPa</p>\r\n            <p className=\"details\">Humidity: {humidity}%</p>\r\n            <p className=\"details\">visibility: {visibility / 1000} km</p>\r\n            <button className=\"btn\">Show more</button>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport let iconKey = (element) => {\r\n  // description = \"clear sky\";\r\n  // console.log(description);\r\n\r\n  switch (element) {\r\n    case \"clear sky\":\r\n      return \"clear\";\r\n    case \"few clouds\":\r\n      return \"mostlycloudy\";\r\n    case \"scattered clouds\":\r\n      return \"partlycloudy\";\r\n    case \"broken clouds\":\r\n      return \"cloudy\";\r\n    case \"overcast clouds\":\r\n      return \"cloudy\";\r\n    case \"shower rain\":\r\n      return \"flurries\";\r\n    case \"rain\":\r\n      return \"rain\";\r\n    case \"light rain\":\r\n      return \"flurries\";\r\n    case \"thunderstorm\":\r\n      return \"tstorms\";\r\n    case \"snow\":\r\n      return \"snow\";\r\n    case \"mist\":\r\n      return \"fog\";\r\n    default:\r\n      return \"unknown\";\r\n  }\r\n};\r\nexport default WeatherCard;\r\n","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\Daily.js",["42","43","44"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useFetch } from \"./useFetch\";\r\nimport { iconKey } from \"./WeatherCard\";\r\nimport { BiChevronsUp } from \"react-icons/bi\";\r\nimport \"./css/Daily.css\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nconst Daily = ({ details }) => {\r\n  let { daily } = details;\r\n  let DailyList = () => {\r\n    return daily.map((element, index) => {\r\n      return <DayItem element={element} key={index} />;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"daily-card\">\r\n        <div className={`daily-card_header`}>\r\n          <h1>Daily report 7 days</h1>\r\n        </div>\r\n        {DailyList()}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nlet DayItem = (props) => {\r\n  let { temp, weather, dt } = props.element;\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  let { max, min } = temp;\r\n  let { description } = weather[0];\r\n  let date = new Date(dt * 1000);\r\n  let strDate = date.toString().slice(0, 7).split(\" \");\r\n  let day = strDate[0];\r\n  let dayNumber = date.getUTCDate();\r\n  let month = strDate[1];\r\n  return (\r\n    <>\r\n      <section\r\n        className={`daily-card_details ${description.replace(\" \", \"_\")}`}\r\n        onClick={() => setShowDetails(!showDetails)}\r\n      >\r\n        <div className=\"daily-card_details-header\">\r\n          <div className=\"daily-card_date_wrapper\">\r\n            <span>\r\n              {day} {dayNumber < 10 ? \"0\" + dayNumber : dayNumber} , {month}\r\n            </span>\r\n          </div>\r\n          <i\r\n            className={`wu wu-${iconKey(description)} wu-64 wu-solid-white`}\r\n          ></i>\r\n          <div className=\"daily-card_temperatures\">\r\n            <p>{Math.round(max)}Â°C</p>\r\n            <p>/ {Math.round(min)}Â°C</p>\r\n          </div>\r\n          <div className=\"description_wrapper\">\r\n            <p>\r\n              {description.split(\" \")[0]} <br />{\" \"}\r\n              {description.split(\" \")[1] !== null\r\n                ? description.split(\" \")[1]\r\n                : \"\"}\r\n            </p>\r\n          </div>\r\n          <h3 className={`arrow-icon ${showDetails ? \"rotate-180\" : \"\"}`}>\r\n            <BiChevronsUp size={32} />\r\n          </h3>\r\n        </div>\r\n        <DayDetails element={props.element} showDetails={showDetails} />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\nlet DayDetails = ({ element, showDetails }) => {\r\n  const panelReference = useRef(null);\r\n  const itemContentReference = useRef(null);\r\n\r\n  let { sunrise, sunset, temp, humidity, pressure, wind_speed } = element;\r\n  let { night, eve, morn } = temp;\r\n  let sunriseDate = new Date(sunrise * 1000),\r\n    sunriseHour = sunriseDate.getHours(),\r\n    sunriseMinutes = sunriseDate.getMinutes();\r\n  let sunsetDate = new Date(sunset * 1000),\r\n    sunsetHour = sunsetDate.getHours(),\r\n    sunsetMinutes = sunsetDate.getMinutes();\r\n  return (\r\n    <div\r\n      className={`daily-card_details-item-contet ${\r\n        showDetails ? \"show-details\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"panel left\" ref={panelReference}>\r\n        <p>\r\n          Sunrise:{\" \"}\r\n          <span>\r\n            {sunriseHour}:\r\n            {sunriseMinutes < 10 ? \"0\" + sunriseMinutes : sunriseMinutes} am\r\n          </span>\r\n        </p>\r\n        <p>\r\n          Sunset:{\" \"}\r\n          <span>\r\n            {sunsetHour}:\r\n            {sunsetMinutes < 10 ? \"0\" + sunsetMinutes : sunsetMinutes} am\r\n          </span>\r\n        </p>\r\n        <p>\r\n          Humidity <span>{humidity}%</span>\r\n        </p>\r\n        <p>\r\n          Wind speed <span>{wind_speed}</span>\r\n        </p>\r\n      </div>\r\n      <div className=\"panel\">\r\n        <p>\r\n          Morning: <span>{morn}Â°C</span>\r\n        </p>\r\n        <p>\r\n          Evening: <span>{eve}Â°C</span>\r\n        </p>\r\n        <p>\r\n          night: <span>{night}Â°C</span>\r\n        </p>\r\n        <p>\r\n          Presure: <span>{pressure} hPa</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Daily;\r\n","C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\Hourly.js",["45","46","47","48","49","50","51","52"],"C:\\Users\\bh02\\Documents\\GitHub\\weather-report\\src\\Chart.js",[],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":35,"column":11,"nodeType":"59","messageId":"60","endLine":35,"endColumn":15},{"ruleId":"61","severity":1,"message":"62","line":70,"column":47,"nodeType":"63","messageId":"64","endLine":70,"endColumn":49},{"ruleId":"61","severity":1,"message":"62","line":76,"column":47,"nodeType":"63","messageId":"64","endLine":76,"endColumn":49},{"ruleId":"61","severity":1,"message":"62","line":82,"column":47,"nodeType":"63","messageId":"64","endLine":82,"endColumn":49},{"ruleId":"57","severity":1,"message":"65","line":1,"column":17,"nodeType":"59","messageId":"60","endLine":1,"endColumn":26},{"ruleId":"57","severity":1,"message":"66","line":1,"column":28,"nodeType":"59","messageId":"60","endLine":1,"endColumn":36},{"ruleId":"57","severity":1,"message":"67","line":1,"column":27,"nodeType":"59","messageId":"60","endLine":1,"endColumn":36},{"ruleId":"57","severity":1,"message":"68","line":2,"column":10,"nodeType":"59","messageId":"60","endLine":2,"endColumn":18},{"ruleId":"57","severity":1,"message":"69","line":74,"column":9,"nodeType":"59","messageId":"60","endLine":74,"endColumn":29},{"ruleId":"57","severity":1,"message":"70","line":14,"column":13,"nodeType":"59","messageId":"60","endLine":14,"endColumn":20},{"ruleId":"71","severity":1,"message":"72","line":24,"column":6,"nodeType":"73","endLine":24,"endColumn":8,"suggestions":"74"},{"ruleId":"57","severity":1,"message":"75","line":34,"column":21,"nodeType":"59","messageId":"60","endLine":34,"endColumn":35},{"ruleId":"57","severity":1,"message":"76","line":40,"column":9,"nodeType":"59","messageId":"60","endLine":40,"endColumn":19},{"ruleId":"57","severity":1,"message":"77","line":41,"column":9,"nodeType":"59","messageId":"60","endLine":41,"endColumn":17},{"ruleId":"57","severity":1,"message":"78","line":42,"column":9,"nodeType":"59","messageId":"60","endLine":42,"endColumn":17},{"ruleId":"57","severity":1,"message":"79","line":43,"column":9,"nodeType":"59","messageId":"60","endLine":43,"endColumn":19},{"ruleId":"57","severity":1,"message":"80","line":44,"column":9,"nodeType":"59","messageId":"60","endLine":44,"endColumn":19},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"no-unused-vars","'city' is assigned a value but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Component' is defined but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","'useFetch' is defined but never used.","'itemContentReference' is assigned a value but never used.","'minutes' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'details'. Either include it or remove the dependency array. If 'setHours' needs the current value of 'details', you can also switch to useReducer instead of useState and read 'details' in the reducer.","ArrayExpression",["83"],"'setShowDetails' is assigned a value but never used.","'feels_like' is assigned a value but never used.","'pressure' is assigned a value but never used.","'humidity' is assigned a value but never used.","'visibility' is assigned a value but never used.","'wind_speed' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},"Update the dependencies array to be: [details]",{"range":"86","text":"87"},[753,755],"[details]"]